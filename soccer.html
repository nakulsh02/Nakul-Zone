<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Neon Soccer - Dual Goals</title>

<style>
:root{
  --bg:#050505;
  --field:#0a0a0a;
  --lines:rgba(255,255,255,0.15);
  --ball:#00f7ff;
  --striker:#ff4d6d;
  --goal:#21c87a;
  --playerGoal:#ff4d6d; /* Red goal for your side */
  --keeper:#ffd166;
}

*{margin:0;padding:0;box-sizing:border-box;font-family: 'Segoe UI', sans-serif;}

body{
  background: var(--bg);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  color:white;
}

#score{
  margin-bottom:15px;
  color:var(--ball);
  font-size:1.8rem;
  font-weight: bold;
}

canvas{
  background:var(--field);
  border: 4px solid #1a1a1a;
  border-radius:8px;
  box-shadow: 0 0 20px rgba(0,0,0,1);
  touch-action:none;
}
</style>
</head>

<body>

<div id="score">0</div>
<canvas id="game" width="400" height="600"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let score = 0;

// Entities
const ball = { x:200, y:300, r:10, vx:0, vy:0 };
const striker = { x:200, y:520, r:22, canHit:true };
const goalTop = { x:110, y:0, w:180, h:10 }; 
const goalBottom = { x:110, y:590, w:180, h:10 }; // Your goal
const keeper = { x:200, y:50, r:18, speed: 4 };

canvas.addEventListener("pointermove", e => {
  const r = canvas.getBoundingClientRect();
  striker.x = e.clientX - r.left;
  striker.y = e.clientY - r.top;
});

function drawPitch() {
  ctx.strokeStyle = "rgba(255,255,255,0.1)";
  ctx.lineWidth = 2;

  // Outer boundary line
  ctx.strokeRect(10, 10, canvas.width - 20, canvas.height - 20);

  // Center line
  ctx.beginPath();
  ctx.moveTo(10, canvas.height / 2);
  ctx.lineTo(canvas.width - 10, canvas.height / 2);
  ctx.stroke();

  // Center circle
  ctx.beginPath();
  ctx.arc(canvas.width / 2, canvas.height / 2, 60, 0, Math.PI * 2);
  ctx.stroke();

  // Penalty Areas
  ctx.strokeRect(80, 10, 240, 100); // Top
  ctx.strokeRect(80, 490, 240, 100); // Bottom
}

function draw(){
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  
  drawPitch();

  // Top Goal (Target)
  ctx.fillStyle = "#21c87a";
  ctx.shadowBlur = 5; ctx.shadowColor = "#21c87a";
  ctx.fillRect(goalTop.x, goalTop.y, goalTop.w, goalTop.h);

  // Bottom Goal (Defense)
  ctx.fillStyle = "#ff4d6d";
  ctx.shadowColor = "#ff4d6d";
  ctx.fillRect(goalBottom.x, goalBottom.y, goalBottom.w, goalBottom.h);

  // Keeper
  ctx.fillStyle = "#ffd166";
  ctx.shadowColor = "#ffd166";
  ctx.beginPath();
  ctx.arc(keeper.x, keeper.y, keeper.r, 0, Math.PI*2);
  ctx.fill();

  // Ball
  ctx.fillStyle = "#00f7ff";
  ctx.shadowColor = "#00f7ff";
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI*2);
  ctx.fill();

  // Striker
  ctx.fillStyle = "#ff4d6d";
  ctx.shadowColor = "#ff4d6d";
  ctx.beginPath();
  ctx.arc(striker.x, striker.y, striker.r, 0, Math.PI*2);
  ctx.fill();
  
  ctx.shadowBlur = 0; 
}

function update(){
  // Striker Collision
  const dx = ball.x - striker.x;
  const dy = ball.y - striker.y;
  const dist = Math.hypot(dx,dy);
  if(dist < striker.r + ball.r && striker.canHit){
    const angle = Math.atan2(dy,dx);
    ball.vx = Math.cos(angle)*12;
    ball.vy = Math.sin(angle)*12;
    striker.canHit = false;
    setTimeout(()=>striker.canHit=true, 150);
  }

  // Ball Physics
  ball.x += ball.vx;
  ball.y += ball.vy;
  ball.vx *= 0.985;
  ball.vy *= 0.985;

  // Sidewalls
  if(ball.x <= ball.r || ball.x >= canvas.width - ball.r){
    ball.vx *= -1;
    ball.x = ball.x <= ball.r ? ball.r : canvas.width - ball.r;
  }

  // Top Goal/Wall Logic
  if(ball.y <= ball.r){
    if(ball.x > goalTop.x && ball.x < goalTop.x + goalTop.w){
      score++; // Score Point
      document.getElementById("score").innerText = score;
      resetBall();
    } else {
      ball.vy *= -1;
      ball.y = ball.r;
    }
  }

  // Bottom Goal/Wall Logic
  if(ball.y >= canvas.height - ball.r){
    if(ball.x > goalBottom.x && ball.x < goalBottom.x + goalBottom.w){
      score--; // Lose Point if scored on
      document.getElementById("score").innerText = score;
      resetBall();
    } else {
      ball.vy *= -1;
      ball.y = canvas.height - ball.r;
    }
  }

  // Reactive Goalkeeper
  if (ball.y < canvas.height / 2) {
    const targetX = ball.x;
    let moveDir = targetX - keeper.x;
    if (Math.abs(moveDir) > 2) {
      keeper.x += Math.sign(moveDir) * keeper.speed;
    }
  } else {
    let backToCenter = (canvas.width / 2) - keeper.x;
    if (Math.abs(backToCenter) > 2) {
      keeper.x += Math.sign(backToCenter) * 2;
    }
  }

  // Keeper Bounds
  if(keeper.x < goalTop.x + keeper.r) keeper.x = goalTop.x + keeper.r;
  if(keeper.x > goalTop.x + goalTop.w - keeper.r) keeper.x = goalTop.x + goalTop.w - keeper.r;

  // Keeper Collision
  const kdx = ball.x - keeper.x;
  const kdy = ball.y - keeper.y;
  if(Math.hypot(kdx, kdy) < ball.r + keeper.r) {
    const angle = Math.atan2(kdy, kdx);
    ball.vx = Math.cos(angle)*8;
    ball.vy = Math.sin(angle)*8;
  }

  draw();
  requestAnimationFrame(update);
}

function resetBall(){
  ball.x = 200; ball.y = 300;
  ball.vx = 0; ball.vy = 0;
}

update();
</script>
</body>
</html>
