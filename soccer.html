<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Neon Soccer</title>

<style>
:root{
  --bg:#070b18;
  --field:#101935;
  --ball:#00f7ff;
  --striker:#ff4d6d;
  --goal:#21c87a;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif;}

body{
  background:radial-gradient(circle at top,#1a2550,var(--bg));
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  color:white;
}

h1{
  margin-bottom:6px;
  background:linear-gradient(90deg,#00f7ff,#6affb3);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

#score{
  margin-bottom:10px;
  color:#00f7ff;
  font-size:1.2rem;
}

canvas{
  background:var(--field);
  border-radius:18px;
  box-shadow:0 0 35px rgba(0,247,255,.35);
  touch-action:none;
}
</style>
</head>

<body>

<h1>Neon Soccer</h1>
<div id="score">Score: 0</div>
<canvas id="game" width="400" height="600"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let score = 0;

// Ball
const ball = {
  x:200,
  y:340,
  r:12,
  vx:0,
  vy:0
};

// Striker
const striker = {
  x:200,
  y:520,
  r:22,
  canHit:true
};

// Goal
const goal = { x:140, y:10, w:120, h:18 };

// Move striker
canvas.addEventListener("pointermove",e=>{
  const r = canvas.getBoundingClientRect();
  striker.x = e.clientX - r.left;
  striker.y = e.clientY - r.top;
});

// Draw
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Goal
  ctx.fillStyle="#21c87a";
  ctx.shadowColor="#21c87a";
  ctx.shadowBlur=15;
  ctx.fillRect(goal.x,goal.y,goal.w,goal.h);
  ctx.shadowBlur=0;

  // Ball
  ctx.beginPath();
  ctx.fillStyle="#00f7ff";
  ctx.shadowColor="#00f7ff";
  ctx.shadowBlur=18;
  ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2);
  ctx.fill();
  ctx.shadowBlur=0;

  // Striker
  ctx.beginPath();
  ctx.fillStyle="#ff4d6d";
  ctx.shadowColor="#ff4d6d";
  ctx.shadowBlur=18;
  ctx.arc(striker.x,striker.y,striker.r,0,Math.PI*2);
  ctx.fill();
  ctx.shadowBlur=0;
}

// Update
function update(){
  // ----- STRIKER â†’ BALL (ONE SMOOTH HIT) -----
  const dx = ball.x - striker.x;
  const dy = ball.y - striker.y;
  const dist = Math.hypot(dx,dy);
  const minDist = striker.r + ball.r;

  if(dist < minDist && striker.canHit){
    const angle = Math.atan2(dy,dx);
    const power = 9;

    // Apply impulse ONCE
    ball.vx += Math.cos(angle)*power;
    ball.vy += Math.sin(angle)*power;

    // Push ball out to avoid sticking
    const overlap = minDist - dist;
    ball.x += Math.cos(angle)*overlap;
    ball.y += Math.sin(angle)*overlap;

    striker.canHit = false;
    setTimeout(()=>striker.canHit=true,180); // cooldown
  }

  // Move ball
  ball.x += ball.vx;
  ball.y += ball.vy;

  // Friction (smooth carrom)
  ball.vx *= 0.985;
  ball.vy *= 0.985;

  // Wall bounce (ALL SIDES)
  if(ball.x <= ball.r){ ball.x = ball.r; ball.vx *= -1; }
  if(ball.x >= canvas.width-ball.r){ ball.x = canvas.width-ball.r; ball.vx *= -1; }
  if(ball.y <= ball.r){ ball.y = ball.r; ball.vy *= -1; }
  if(ball.y >= canvas.height-ball.r){ ball.y = canvas.height-ball.r; ball.vy *= -1; }

  // Goal
  if(
    ball.y - ball.r <= goal.y + goal.h &&
    ball.x > goal.x &&
    ball.x < goal.x + goal.w
  ){
    score++;
    document.getElementById("score").innerText="Score: "+score;
    resetBall();
  }

  draw();
  requestAnimationFrame(update);
}

function resetBall(){
  ball.x=200;
  ball.y=340;
  ball.vx=0;
  ball.vy=0;
}

update();
</script>

</body>
</html>